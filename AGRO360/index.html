<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AGRO 360 - Soluci贸n Integral Agroindustrial</title>
  <meta name="description" content="AGRO 360 - Sistema de Gesti贸n Agroindustrial">
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='.9em' font-size='90'%3E%3C/text%3E%3C/svg%3E">
  <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
  <script src="https://unpkg.com/prop-types@15/prop-types.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://unpkg.com/recharts@2.12.7/umd/Recharts.js"></script>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html, body, #root { width: 100%; height: 100%; }
    .scrollbar-hide::-webkit-scrollbar { display: none; }
    .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
  </style>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
  <div id="root"></div>
  <script type="text/babel" data-type="module">
const { useState, useEffect, useRef } = React;
const { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, PieChart, Pie, Cell } = Recharts;

const _ic=(p)=>({className:c="",style:s,...r}={})=>React.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:c,style:s,...r},p);
const F=React.Fragment;const E=React.createElement;
const Leaf=_ic(E(F,null,E("path",{d:"M11 20A7 7 0 0 1 9.8 6.9C15.5 4.9 17 3.5 19 2c1 2 2 4.5 2 8 0 5.5-4.78 10-10 10Z"}),E("path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12"})));
const Lock=_ic(E(F,null,E("rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2"}),E("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})));
const Mail=_ic(E(F,null,E("rect",{width:"20",height:"16",x:"2",y:"4",rx:"2"}),E("path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"})));
const ChevronRight=_ic(E("path",{d:"m9 18 6-6-6-6"}));
const LayoutDashboard=_ic(E(F,null,E("rect",{width:"7",height:"9",x:"3",y:"3",rx:"1"}),E("rect",{width:"7",height:"5",x:"14",y:"3",rx:"1"}),E("rect",{width:"7",height:"5",x:"3",y:"16",rx:"1"}),E("rect",{width:"7",height:"9",x:"14",y:"12",rx:"1"})));
const Sprout=_ic(E(F,null,E("path",{d:"M7 20h10"}),E("path",{d:"M10 20c5.5-2.5.8-6.4 3-10"}),E("path",{d:"M9.5 9.4c1.1.8 1.8 2.2 2.3 3.7-2 .4-3.5.4-4.8-.3-1.2-.6-2.3-1.9-3-4.2 2.8-.5 4.4 0 5.5.8z"}),E("path",{d:"M14.1 6a7 7 0 0 0-1.1 4c1.9-.1 3.3-.6 4.3-1.4 1-1 1.6-2.3 1.7-4.6-2.7.1-4 1-4.9 2z"})));
const Users=_ic(E(F,null,E("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),E("circle",{cx:"9",cy:"7",r:"4"}),E("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),E("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})));
const PackageSearch=_ic(E(F,null,E("path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14"}),E("path",{d:"m7.5 4.27 9 5.15"}),E("polyline",{points:"3.29 7 12 12 20.71 7"}),E("line",{x1:"12",y1:"22",x2:"12",y2:"12"}),E("circle",{cx:"18.5",cy:"15.5",r:"2.5"}),E("path",{d:"M20.27 17.27 22 19"})));
const Bell=_ic(E(F,null,E("path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"}),E("path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0"})));
const Settings=_ic(E(F,null,E("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),E("circle",{cx:"12",cy:"12",r:"3"})));
const LogOut=_ic(E(F,null,E("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),E("polyline",{points:"16 17 21 12 16 7"}),E("line",{x1:"21",y1:"12",x2:"9",y2:"12"})));
const MenuIcon=_ic(E(F,null,E("line",{x1:"4",x2:"20",y1:"12",y2:"12"}),E("line",{x1:"4",x2:"20",y1:"6",y2:"6"}),E("line",{x1:"4",x2:"20",y1:"18",y2:"18"})));
const X=_ic(E(F,null,E("path",{d:"M18 6 6 18"}),E("path",{d:"m6 6 12 12"})));
const Sun=_ic(E(F,null,E("circle",{cx:"12",cy:"12",r:"4"}),E("path",{d:"M12 2v2"}),E("path",{d:"M12 20v2"}),E("path",{d:"m4.93 4.93 1.41 1.41"}),E("path",{d:"m17.66 17.66 1.41 1.41"}),E("path",{d:"M2 12h2"}),E("path",{d:"M20 12h2"})));
const Globe=_ic(E(F,null,E("circle",{cx:"12",cy:"12",r:"10"}),E("path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"}),E("path",{d:"M2 12h20"})));
const FileText=_ic(E(F,null,E("path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}),E("path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}),E("path",{d:"M10 9H8"}),E("path",{d:"M16 13H8"}),E("path",{d:"M16 17H8"})));
const Brain=_ic(E(F,null,E("path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z"}),E("path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z"}),E("path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4"})));
const CreditCard=_ic(E(F,null,E("rect",{width:"20",height:"14",x:"2",y:"5",rx:"2"}),E("line",{x1:"2",x2:"22",y1:"10",y2:"10"})));
const PackageIcon=_ic(E(F,null,E("path",{d:"M16.5 9.4 7.55 4.24"}),E("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),E("polyline",{points:"3.29 7 12 12 20.71 7"}),E("line",{x1:"12",y1:"22",x2:"12",y2:"12"})));
const ShoppingCart=_ic(E(F,null,E("circle",{cx:"8",cy:"21",r:"1"}),E("circle",{cx:"19",cy:"21",r:"1"}),E("path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12"})));
const Grape=_ic(E(F,null,E("path",{d:"M22 5V2l-5.89 5.89"}),E("circle",{cx:"16.6",cy:"15.89",r:"3"}),E("circle",{cx:"8.11",cy:"7.4",r:"3"}),E("circle",{cx:"12.35",cy:"11.65",r:"3"})));
const MapIcon=_ic(E(F,null,E("path",{d:"m3 3 7.07 16.97 2.51-7.39 7.39-2.51L3 3z"}),E("path",{d:"m13 13 6 6"})));
const Zap=_ic(E("path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z"}));
const Ship=_ic(E(F,null,E("path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1 .6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"}),E("path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-9-4-9 4c0 2.9.94 5.34 2.81 7.76"}),E("path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6"}),E("path",{d:"M12 10v4"}),E("path",{d:"M12 2v3"})));
const TrendingUp=_ic(E(F,null,E("polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17"}),E("polyline",{points:"16 7 22 7 22 13"})));
const TrendingDown=_ic(E(F,null,E("polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7"}),E("polyline",{points:"16 17 22 17 22 11"})));
const AlertCircle=_ic(E(F,null,E("circle",{cx:"12",cy:"12",r:"10"}),E("line",{x1:"12",x2:"12",y1:"8",y2:"12"}),E("line",{x1:"12",x2:"12.01",y1:"16",y2:"16"})));
const Clock=_ic(E(F,null,E("circle",{cx:"12",cy:"12",r:"10"}),E("polyline",{points:"12 6 12 12 16 14"})));
const Droplets=_ic(E(F,null,E("path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z"})));
const CheckCircle2=_ic(E(F,null,E("circle",{cx:"12",cy:"12",r:"10"}),E("path",{d:"m9 12 2 2 4-4"})));

const MOCK_USER={id:'1',name:'Juan P茅rez',email:'juan.perez@agro360.pe',role:'Admin',avatar:'https://i.pravatar.cc/150?u=juan'};
const DASHBOARD_KPIS=[{label:'Cosecha Hoy',value:'42.5 Tn',change:'+12%',trend:'up',icon:'Grape'},{label:'Personal Activo',value:'1,240',change:'98%',trend:'neutral',icon:'Users'},{label:'Hect谩reas en Prod.',value:'850 Ha',change:'Ica/Piura',trend:'neutral',icon:'Map'},{label:'Alertas Activas',value:'3',change:'2 Cr铆ticas',trend:'down',icon:'Bell'},{label:'Eficiencia Cosecha',value:'94.2%',change:'+2.1%',trend:'up',icon:'Zap'},{label:'Contenedores Puerto',value:'18',change:'Callao/Paita',trend:'up',icon:'Ship'}];
const HARVEST_DATA=[{name:'Lun',Uva:4000,Arandano:2400,Palta:2400,Esparrago:1500},{name:'Mar',Uva:3000,Arandano:1398,Palta:2210,Esparrago:1800},{name:'Mie',Uva:2000,Arandano:9800,Palta:2290,Esparrago:2100},{name:'Jue',Uva:2780,Arandano:3908,Palta:2000,Esparrago:2500},{name:'Vie',Uva:1890,Arandano:4800,Palta:2181,Esparrago:2300},{name:'Sab',Uva:2390,Arandano:3800,Palta:2500,Esparrago:2100},{name:'Dom',Uva:3490,Arandano:4300,Palta:2100,Esparrago:1900}];
const QUALITY_DATA=[{name:'Primera',value:65,fill:'#2E7D32'},{name:'Segunda',value:25,fill:'#FF6F00'},{name:'Descarte',value:10,fill:'#5D4037'}];
const MOCK_WORKERS=[{id:'W1',name:'Carlos Mendoza',photo:'https://i.pravatar.cc/150?u=carlos',squad:'Cuadrilla A - Ica',status:'Activo',role:'Cosechador'},{id:'W2',name:'Maria Quispe',photo:'https://i.pravatar.cc/150?u=maria',squad:'Cuadrilla B - Piura',status:'Activo',role:'Cosechador'},{id:'W3',name:'Roberto Sanchez',photo:'https://i.pravatar.cc/150?u=roberto',squad:'Cuadrilla A - Ica',status:'Vacaciones',role:'Supervisor'},{id:'W4',name:'Elena Torres',photo:'https://i.pravatar.cc/150?u=elena',squad:'Cuadrilla C - Trujillo',status:'Activo',role:'Cosechador'}];
const MOCK_ALERTS=[{id:'A1',title:'Baja Presi贸n Riego',message:'Lote 14 - Fundo Villacuri presenta ca铆da de presi贸n.',priority:'Roja',timestamp:'Hace 10 min'},{id:'A2',title:'Plaga Detectada',message:'Avistamiento de mosca de la fruta en Lote 05.',priority:'Amarilla',timestamp:'Hace 1 hora'},{id:'A3',title:'Mantenimiento C谩mara',message:'C谩mara de fr铆o 02 requiere revisi贸n preventiva.',priority:'Verde',timestamp:'Hace 3 horas'}];
const KANBAN_TASKS=[{id:'T1',batchId:'LOTE-2024-001',crop:'Uva Red Globe',quantity:'500 Jabas',status:'Recepci贸n'},{id:'T2',batchId:'LOTE-2024-002',crop:'Ar谩ndano Biloxi',quantity:'1200 Kg',status:'C谩mara Fr铆o'},{id:'T3',batchId:'LOTE-2024-003',crop:'Palta Hass',quantity:'800 Jabas',status:'Selecci贸n'},{id:'T4',batchId:'LOTE-2024-004',crop:'Esp谩rrago Verde',quantity:'300 Atados',status:'Paletizado'},{id:'T5',batchId:'LOTE-2024-005',crop:'Uva Thompson',quantity:'450 Jabas',status:'Despacho'}];
const FIELD_ACTIVITIES=[{id:'AC1',type:'Riego',lot:'Lote 01',date:'2024-03-01 06:00',status:'Completado',responsible:'Ing. Agr贸nomo'},{id:'AC2',type:'Fumigaci贸n',lot:'Lote 05',date:'2024-03-01 08:30',status:'En Proceso',responsible:'Equipo Sanidad'},{id:'AC3',type:'Poda',lot:'Lote 12',date:'2024-03-01 10:00',status:'Pendiente',responsible:'Cuadrilla B'}];

function Login({onLogin}){const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[selectedRole,setSelectedRole]=useState('Admin');const roles=['Campo','Supervisor','Gerente','Admin'];const handleSubmit=(e)=>{e.preventDefault();onLogin(selectedRole);};return(<div className="min-h-screen bg-[#2E7D32] flex items-center justify-center p-4 relative overflow-hidden"><div className="absolute top-0 left-0 w-full h-full opacity-10 pointer-events-none"><div className="absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-white rounded-full blur-[120px]"/><div className="absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-orange-500 rounded-full blur-[120px]"/></div><div className="w-full max-w-md bg-white rounded-[2.5rem] shadow-2xl overflow-hidden relative z-10"><div className="p-8 sm:p-12"><div className="flex flex-col items-center mb-10"><div className="w-20 h-20 bg-green-100 rounded-3xl flex items-center justify-center mb-4 shadow-inner"><Leaf className="w-10 h-10 text-[#2E7D32]"/></div><h1 className="text-3xl font-black text-gray-900 tracking-tight">AGRO <span className="text-[#2E7D32]">360</span></h1><p className="text-gray-500 text-sm font-medium mt-1">Soluci贸n Integral Agroindustrial</p></div><form onSubmit={handleSubmit} className="space-y-6"><div className="space-y-4"><div className="relative"><Mail className="absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"/><input type="email" placeholder="Correo Electr贸nico" className="w-full pl-12 pr-4 py-4 bg-gray-50 border-none rounded-2xl focus:ring-2 focus:ring-[#2E7D32] transition-all text-gray-900" value={email} onChange={(e)=>setEmail(e.target.value)} required/></div><div className="relative"><Lock className="absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"/><input type="password" placeholder="Contrase帽a" className="w-full pl-12 pr-4 py-4 bg-gray-50 border-none rounded-2xl focus:ring-2 focus:ring-[#2E7D32] transition-all text-gray-900" value={password} onChange={(e)=>setPassword(e.target.value)} required/></div></div><div className="space-y-3"><label className="text-xs font-bold text-gray-400 uppercase tracking-widest ml-1">Acceder como:</label><div className="grid grid-cols-2 gap-2">{roles.map((role)=>(<button key={role} type="button" onClick={()=>setSelectedRole(role)} className={`py-3 px-4 rounded-xl text-sm font-bold transition-all border-2 ${selectedRole===role?'bg-green-50 border-[#2E7D32] text-[#2E7D32]':'bg-white border-gray-100 text-gray-400 hover:border-gray-200'}`}>{role}</button>))}</div></div><button type="submit" className="w-full py-5 bg-[#2E7D32] hover:bg-[#1B5E20] text-white rounded-2xl font-bold text-lg shadow-lg shadow-green-200 transition-all flex items-center justify-center gap-2 group">INGRESAR AL SISTEMA <ChevronRight className="w-5 h-5 group-hover:translate-x-1 transition-transform"/></button></form><div className="mt-8 text-center"><a href="#" className="text-sm font-bold text-gray-400 hover:text-[#2E7D32] transition-colors">驴Olvidaste tu contrase帽a?</a></div></div><div className="bg-gray-50 p-6 text-center border-t border-gray-100"><p className="text-xs text-gray-400 font-medium">漏 2026 AGRO 360 Per煤. Innovaqsolution Todos los derechos reservados.</p></div></div></div>);}

function Dashboard(){const getIcon=(name)=>{switch(name){case 'Grape':return <Grape className="w-6 h-6"/>;case 'Users':return <Users className="w-6 h-6"/>;case 'Map':return <MapIcon className="w-6 h-6"/>;case 'Bell':return <Bell className="w-6 h-6"/>;case 'Zap':return <Zap className="w-6 h-6"/>;case 'Ship':return <Ship className="w-6 h-6"/>;default:return <Zap className="w-6 h-6"/>;}};return(<div className="space-y-6"><div className="flex flex-col md:flex-row md:items-center justify-between gap-4"><h1 className="text-2xl font-bold text-gray-800">Command Center - AGRO 360</h1><div className="flex items-center gap-2 text-sm text-gray-500"><Clock className="w-4 h-4"/><span>ltima actualizaci贸n: {new Date().toLocaleTimeString()}</span></div></div><div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4">{DASHBOARD_KPIS.map((kpi,idx)=>(<div key={kpi.label} className="bg-white p-4 rounded-2xl border border-gray-100 shadow-sm"><div className="flex items-center justify-between mb-2"><div className="p-2 bg-green-50 text-green-600 rounded-lg">{getIcon(kpi.icon)}</div>{kpi.trend&&(<div className={`flex items-center text-xs font-medium ${kpi.trend==='up'?'text-green-600':kpi.trend==='down'?'text-red-600':'text-gray-500'}`}>{kpi.trend==='up'?<TrendingUp className="w-3 h-3 mr-1"/>:kpi.trend==='down'?<TrendingDown className="w-3 h-3 mr-1"/>:null}{kpi.change}</div>)}</div><div className="text-2xl font-bold text-gray-900">{kpi.value}</div><div className="text-xs text-gray-500 mt-1">{kpi.label}</div></div>))}</div><div className="grid grid-cols-1 lg:grid-cols-3 gap-6"><div className="lg:col-span-2 bg-white p-6 rounded-2xl border border-gray-100 shadow-sm"><h3 className="text-lg font-semibold mb-6 text-gray-800">Cosecha Semanal por Cultivo (Kg)</h3><div className="h-[300px]"><ResponsiveContainer width="100%" height="100%"><BarChart data={HARVEST_DATA}><CartesianGrid strokeDasharray="3 3" vertical={false} stroke="#e5e7eb"/><XAxis dataKey="name" axisLine={false} tickLine={false} tick={{fontSize:12}}/><YAxis axisLine={false} tickLine={false} tick={{fontSize:12}}/><Tooltip contentStyle={{borderRadius:'12px',border:'none',boxShadow:'0 10px 15px -3px rgb(0 0 0 / 0.1)'}}/><Legend iconType="circle"/><Bar dataKey="Uva" fill="#2E7D32" radius={[4,4,0,0]}/><Bar dataKey="Arandano" fill="#FF6F00" radius={[4,4,0,0]}/><Bar dataKey="Palta" fill="#5D4037" radius={[4,4,0,0]}/><Bar dataKey="Esparrago" fill="#8BC34A" radius={[4,4,0,0]}/></BarChart></ResponsiveContainer></div></div><div className="bg-white p-6 rounded-2xl border border-gray-100 shadow-sm"><h3 className="text-lg font-semibold mb-6 text-gray-800">Distribuci贸n por Calidad</h3><div className="h-[300px]"><ResponsiveContainer width="100%" height="100%"><PieChart><Pie data={QUALITY_DATA} cx="50%" cy="50%" innerRadius={60} outerRadius={80} paddingAngle={5} dataKey="value">{QUALITY_DATA.map((entry,index)=>(<Cell key={`cell-${index}`} fill={entry.fill}/>))}</Pie><Tooltip/><Legend verticalAlign="bottom" height={36}/></PieChart></ResponsiveContainer></div></div></div><div className="grid grid-cols-1 lg:grid-cols-2 gap-6"><div className="bg-white p-6 rounded-2xl border border-gray-100 shadow-sm"><h3 className="text-lg font-semibold mb-4 text-gray-800">Mapa de Lotes - Fundo Villacuri</h3><div className="rounded-xl overflow-hidden border border-gray-200"><div className="h-[300px] bg-gradient-to-br from-green-100 to-green-200 flex items-center justify-center text-green-600 relative"><div className="text-center"><MapIcon className="w-12 h-12 mx-auto mb-2 opacity-50"/><p className="font-medium">Mapa Interactivo</p><p className="text-sm opacity-70">Ica, Per煤 - Lotes 01, 02, 03</p></div><div className="absolute top-4 left-4 bg-white/80 rounded-lg px-3 py-1.5 text-xs font-bold text-green-700">Fundo Ica</div></div></div></div><div className="bg-white p-6 rounded-2xl border border-gray-100 shadow-sm"><h3 className="text-lg font-semibold mb-4 text-gray-800">Alertas del Sistema</h3><div className="space-y-4">{MOCK_ALERTS.map((alert)=>(<div key={alert.id} className="flex gap-4 p-4 rounded-xl bg-gray-50 border border-gray-100"><div className={`mt-1 p-2 rounded-full h-fit ${alert.priority==='Roja'?'bg-red-100 text-red-600':alert.priority==='Amarilla'?'bg-yellow-100 text-yellow-600':'bg-green-100 text-green-600'}`}><AlertCircle className="w-5 h-5"/></div><div className="flex-1"><div className="flex items-center justify-between mb-1"><h4 className="font-semibold text-gray-900">{alert.title}</h4><span className="text-xs text-gray-500">{alert.timestamp}</span></div><p className="text-sm text-gray-600">{alert.message}</p></div></div>))}</div></div></div></div>);}

function SmartField(){return(<div className="space-y-6"><h1 className="text-2xl font-bold text-gray-800">Smart Field - Gesti贸n de Campo</h1><div className="grid grid-cols-1 md:grid-cols-3 gap-4"><div className="bg-white p-6 rounded-2xl border border-gray-100 shadow-sm"><div className="flex items-center gap-3 mb-4"><div className="p-2 bg-blue-50 text-blue-600 rounded-lg"><Droplets className="w-6 h-6"/></div><h3 className="font-semibold">Riego Inteligente</h3></div><div className="space-y-3"><div className="flex justify-between text-sm"><span className="text-gray-500">Humedad del Suelo</span><span className="font-bold text-green-600">72%</span></div><div className="w-full bg-gray-100 rounded-full h-2"><div className="bg-green-500 h-2 rounded-full" style={{width:'72%'}}></div></div><div className="flex justify-between text-sm"><span className="text-gray-500">Pr贸ximo Riego</span><span className="font-bold">14:00 hrs</span></div></div></div><div className="bg-white p-6 rounded-2xl border border-gray-100 shadow-sm"><div className="flex items-center gap-3 mb-4"><div className="p-2 bg-orange-50 text-orange-600 rounded-lg"><Sun className="w-6 h-6"/></div><h3 className="font-semibold">Clima</h3></div><div className="text-center py-4"><div className="text-4xl font-black text-gray-900">28掳C</div><p className="text-sm text-gray-500 mt-1">Soleado - Ica</p></div></div><div className="bg-white p-6 rounded-2xl border border-gray-100 shadow-sm"><div className="flex items-center gap-3 mb-4"><div className="p-2 bg-red-50 text-red-600 rounded-lg"><AlertCircle className="w-6 h-6"/></div><h3 className="font-semibold">Sanidad Vegetal</h3></div><div className="space-y-3">{[{l:'Lote 01',s:'Sin novedad',c:'green'},{l:'Lote 05',s:'Alerta',c:'yellow'},{l:'Lote 12',s:'Cr铆tico',c:'red'}].map(item=>(<div key={item.l} className="flex items-center justify-between p-2 rounded-lg bg-gray-50"><span className="text-sm font-medium">{item.l}</span><span className={`text-xs font-bold px-2 py-1 rounded-full bg-${item.c}-100 text-${item.c}-600`}>{item.s}</span></div>))}</div></div></div><div className="bg-white p-6 rounded-2xl border border-gray-100 shadow-sm"><h3 className="text-lg font-semibold mb-4">Actividades de Campo</h3><div className="overflow-x-auto"><table className="w-full text-sm"><thead><tr className="border-b border-gray-100"><th className="text-left py-3 px-4 text-gray-500 font-medium">Actividad</th><th className="text-left py-3 px-4 text-gray-500 font-medium">Lote</th><th className="text-left py-3 px-4 text-gray-500 font-medium">Fecha</th><th className="text-left py-3 px-4 text-gray-500 font-medium">Estado</th><th className="text-left py-3 px-4 text-gray-500 font-medium">Responsable</th></tr></thead><tbody>{FIELD_ACTIVITIES.map(act=>(<tr key={act.id} className="border-b border-gray-50 hover:bg-gray-50"><td className="py-3 px-4 font-medium">{act.type}</td><td className="py-3 px-4">{act.lot}</td><td className="py-3 px-4">{act.date}</td><td className="py-3 px-4"><span className={`text-xs font-bold px-2 py-1 rounded-full ${act.status==='Completado'?'bg-green-100 text-green-600':act.status==='En Proceso'?'bg-blue-100 text-blue-600':'bg-yellow-100 text-yellow-600'}`}>{act.status}</span></td><td className="py-3 px-4">{act.responsible}</td></tr>))}</tbody></table></div></div></div>);}

function AgroHR(){return(<div className="space-y-6"><h1 className="text-2xl font-bold text-gray-800">Agro-HR - Gesti贸n de Personal</h1><div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">{[{label:'Total Personal',value:'1,240',icon:Users,color:'green'},{label:'Activos Hoy',value:'1,180',icon:CheckCircle2,color:'blue'},{label:'En Vacaciones',value:'42',icon:Clock,color:'orange'},{label:'Cuadrillas',value:'28',icon:Users,color:'purple'}].map((kpi,i)=>(<div key={i} className="bg-white p-5 rounded-2xl border border-gray-100 shadow-sm"><div className="flex items-center gap-3 mb-3"><div className={`p-2 bg-${kpi.color}-50 text-${kpi.color}-600 rounded-lg`}><kpi.icon className="w-5 h-5"/></div></div><div className="text-2xl font-bold text-gray-900">{kpi.value}</div><div className="text-xs text-gray-500 mt-1">{kpi.label}</div></div>))}</div><div className="bg-white p-6 rounded-2xl border border-gray-100 shadow-sm"><h3 className="text-lg font-semibold mb-4">Directorio de Personal</h3><div className="grid grid-cols-1 md:grid-cols-2 gap-4">{MOCK_WORKERS.map(w=>(<div key={w.id} className="flex items-center gap-4 p-4 rounded-xl bg-gray-50 border border-gray-100"><img src={w.photo} alt={w.name} className="w-12 h-12 rounded-xl object-cover" referrerPolicy="no-referrer"/><div className="flex-1"><h4 className="font-semibold text-gray-900">{w.name}</h4><p className="text-xs text-gray-500">{w.squad}</p></div><span className={`text-xs font-bold px-2 py-1 rounded-full ${w.status==='Activo'?'bg-green-100 text-green-600':w.status==='Vacaciones'?'bg-orange-100 text-orange-600':'bg-gray-100 text-gray-600'}`}>{w.status}</span></div>))}</div></div></div>);}

function PackTrace(){const statuses=['Recepci贸n','C谩mara Fr铆o','Selecci贸n','Paletizado','Despacho'];return(<div className="space-y-6"><h1 className="text-2xl font-bold text-gray-800">Pack & Trace - Trazabilidad</h1><div className="grid grid-cols-1 md:grid-cols-5 gap-4">{statuses.map(status=>{const tasks=KANBAN_TASKS.filter(t=>t.status===status);return(<div key={status} className="bg-gray-50 rounded-2xl p-4 border border-gray-100 min-h-[200px]"><h3 className="text-sm font-bold text-gray-700 mb-3 uppercase tracking-wider">{status}</h3><div className="space-y-3">{tasks.map(task=>(<div key={task.id} className="bg-white p-3 rounded-xl border border-gray-100 shadow-sm"><p className="text-xs font-bold text-green-600">{task.batchId}</p><p className="text-sm font-medium mt-1">{task.crop}</p><p className="text-xs text-gray-500 mt-1">{task.quantity}</p></div>))}</div></div>);})}</div></div>);}

function ERPModule({title,icon:Icon,description,stats}){return(<div className="space-y-6"><div className="flex items-center gap-3"><Icon className="w-8 h-8 text-green-600"/><div><h1 className="text-2xl font-bold text-gray-800">{title}</h1><p className="text-sm text-gray-500">{description}</p></div></div><div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">{stats.map((s,i)=>(<div key={i} className="bg-white p-5 rounded-2xl border border-gray-100 shadow-sm"><div className="text-2xl font-bold text-gray-900">{s.value}</div><div className="text-xs text-gray-500 mt-1">{s.label}</div></div>))}</div><div className="bg-white p-6 rounded-2xl border border-gray-100 shadow-sm"><p className="text-gray-400 text-center py-12">M贸dulo en desarrollo - Pr贸ximamente disponible</p></div></div>);}

function ComercioExterior(){return <ERPModule title="Comercio Exterior" icon={Globe} description="Gesti贸n de exportaciones e importaciones" stats={[{value:'18',label:'Contenedores Activos'},{value:'$2.4M',label:'FOB Mensual'},{value:'12',label:'Pa铆ses Destino'},{value:'98.5%',label:'On-Time Delivery'}]}/>;}
function SIRE(){return <ERPModule title="SIRE" icon={FileText} description="Registros electr贸nicos de ventas y compras" stats={[{value:'1,234',label:'Comprobantes Mes'},{value:'S/. 850K',label:'Ventas Registradas'},{value:'456',label:'Compras Registradas'},{value:'100%',label:'Cumplimiento'}]}/>;}
function ContabilidadIA(){return <ERPModule title="Contabilidad IA" icon={Brain} description="Contabilidad automatizada con inteligencia artificial" stats={[{value:'Auto',label:'Asientos Contables'},{value:'99.2%',label:'Precisi贸n IA'},{value:'S/. 12M',label:'Balance General'},{value:'0',label:'Pendientes'}]}/>;}
function Facturacion(){return <ERPModule title="Facturaci贸n" icon={CreditCard} description="Emisi贸n de comprobantes electr贸nicos" stats={[{value:'892',label:'Facturas Mes'},{value:'S/. 1.2M',label:'Facturado'},{value:'23',label:'Notas Cr茅dito'},{value:'100%',label:'Aceptadas SUNAT'}]}/>;}
function Inventario(){return <ERPModule title="Inventario" icon={PackageIcon} description="Control de inventarios y almacenes" stats={[{value:'15,420',label:'SKUs Activos'},{value:'8',label:'Almacenes'},{value:'96%',label:'Exactitud'},{value:'$4.2M',label:'Valor Stock'}]}/>;}
function Compras(){return <ERPModule title="Compras" icon={ShoppingCart} description="Gesti贸n de 贸rdenes de compra y proveedores" stats={[{value:'234',label:'OC Activas'},{value:'89',label:'Proveedores'},{value:'S/. 650K',label:'Comprometido'},{value:'72hrs',label:'Lead Time Prom.'}]}/>;}

function Layout({user,onLogout,children,activeTab,setActiveTab}){const[isSidebarOpen,setIsSidebarOpen]=useState(true);const menuItems=[{id:'dashboard',label:'Dashboard',icon:LayoutDashboard,roles:['Supervisor','Gerente','Admin']},{id:'field',label:'Smart Field',icon:Sprout,roles:['Campo','Supervisor','Gerente','Admin']},{id:'hr',label:'Agro-HR',icon:Users,roles:['Supervisor','Gerente','Admin']},{id:'trace',label:'Pack & Trace',icon:PackageSearch,roles:['Supervisor','Gerente','Admin']}];const erpItems=[{id:'comex',label:'Comercio Exterior',icon:Globe,roles:['Gerente','Admin']},{id:'sire',label:'SIRE',icon:FileText,roles:['Gerente','Admin']},{id:'contabilidad',label:'Contabilidad IA',icon:Brain,roles:['Gerente','Admin']},{id:'facturacion',label:'Facturaci贸n',icon:CreditCard,roles:['Gerente','Admin']},{id:'inventario',label:'Inventario',icon:PackageIcon,roles:['Supervisor','Gerente','Admin']},{id:'compras',label:'Compras',icon:ShoppingCart,roles:['Supervisor','Gerente','Admin']}];const filteredMenu=menuItems.filter(item=>item.roles.includes(user.role));const filteredErp=erpItems.filter(item=>item.roles.includes(user.role));return(<div className="min-h-screen bg-gray-50"><aside className={`fixed top-0 left-0 z-40 h-screen transition-transform bg-white border-r border-gray-200 ${isSidebarOpen?'translate-x-0 w-64':'-translate-x-full w-0'} lg:translate-x-0 lg:w-64`}><div className="h-full px-4 py-6 flex flex-col overflow-y-auto scrollbar-hide"><div className="flex items-center gap-3 px-2 mb-10"><div className="w-10 h-10 bg-green-600 rounded-xl flex items-center justify-center shadow-lg shadow-green-200"><Leaf className="text-white w-6 h-6"/></div><span className="text-xl font-black text-gray-900 tracking-tight">AGRO <span className="text-green-600">360</span></span></div><nav className="flex-1 space-y-6"><div className="space-y-2">{filteredMenu.map((item)=>(<button key={item.id} onClick={()=>setActiveTab(item.id)} className={`w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-bold transition-all ${activeTab===item.id?'bg-green-600 text-white shadow-lg shadow-green-100':'text-gray-500 hover:bg-gray-100'}`}><item.icon className="w-5 h-5"/>{item.label}</button>))}</div>{filteredErp.length>0&&(<div className="space-y-2"><div className="px-4 py-2"><div className="h-px bg-gray-100 mb-4"/><span className="text-[10px] font-black text-green-600 uppercase tracking-widest">ERP 360</span></div>{filteredErp.map((item)=>(<button key={item.id} onClick={()=>setActiveTab(item.id)} className={`w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-bold transition-all ${activeTab===item.id?'bg-green-600 text-white shadow-lg shadow-green-100':'text-gray-500 hover:bg-gray-100'}`}><item.icon className="w-5 h-5"/>{item.label}</button>))}</div>)}</nav><div className="pt-6 border-t border-gray-100 space-y-2"><button className="w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-bold text-gray-500 hover:bg-gray-100 transition-all"><Settings className="w-5 h-5"/>Configuraci贸n</button><button onClick={onLogout} className="w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-bold text-red-500 hover:bg-red-50 transition-all"><LogOut className="w-5 h-5"/>Cerrar Sesi贸n</button></div></div></aside><div className={`transition-all duration-300 ${isSidebarOpen?'lg:ml-64':'ml-0'}`}><header className="sticky top-0 z-30 bg-white/80 backdrop-blur-md border-b border-gray-200 px-4 py-3"><div className="flex items-center justify-between"><div className="flex items-center gap-4"><button onClick={()=>setIsSidebarOpen(!isSidebarOpen)} className="p-2 hover:bg-gray-100 rounded-lg lg:hidden">{isSidebarOpen?<X className="w-6 h-6"/>:<MenuIcon className="w-6 h-6"/>}</button><div className="hidden sm:block"><h2 className="text-sm font-bold text-gray-400 uppercase tracking-widest">{[...menuItems,...erpItems].find(i=>i.id===activeTab)?.label}</h2></div></div><div className="flex items-center gap-3"><div className="relative"><button className="p-2 text-gray-500 hover:bg-gray-100 rounded-xl transition-colors"><Bell className="w-5 h-5"/><span className="absolute top-2 right-2 w-2 h-2 bg-red-500 rounded-full border-2 border-white"/></button></div><div className="h-8 w-px bg-gray-200 mx-2"/><div className="flex items-center gap-3 pl-2"><div className="text-right hidden sm:block"><p className="text-sm font-bold text-gray-900 leading-none">{user.name}</p><p className="text-[10px] font-bold text-green-600 uppercase tracking-tighter mt-1">{user.role}</p></div><img src={user.avatar} alt={user.name} className="w-10 h-10 rounded-xl object-cover border-2 border-green-100" referrerPolicy="no-referrer"/></div></div></div></header><main className="p-4 md:p-8 max-w-7xl mx-auto">{children}</main></div></div>);}

function App(){const[isAuthenticated,setIsAuthenticated]=useState(false);const[user,setUser]=useState(null);const[activeTab,setActiveTab]=useState('dashboard');const handleLogin=(role)=>{setUser({...MOCK_USER,role});setIsAuthenticated(true);setActiveTab(role==='Campo'?'field':'dashboard');};const handleLogout=()=>{setIsAuthenticated(false);setUser(null);};if(!isAuthenticated||!user)return <Login onLogin={handleLogin}/>;return(<Layout user={user} onLogout={handleLogout} activeTab={activeTab} setActiveTab={setActiveTab}>{activeTab==='dashboard'&&<Dashboard/>}{activeTab==='field'&&<SmartField/>}{activeTab==='hr'&&<AgroHR/>}{activeTab==='trace'&&<PackTrace/>}{activeTab==='comex'&&<ComercioExterior/>}{activeTab==='sire'&&<SIRE/>}{activeTab==='contabilidad'&&<ContabilidadIA/>}{activeTab==='facturacion'&&<Facturacion/>}{activeTab==='inventario'&&<Inventario/>}{activeTab==='compras'&&<Compras/>}</Layout>);}

ReactDOM.createRoot(document.getElementById('root')).render(<App/>);
</script>
</body>
</html>
